<!DOCTYPE html>
@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="~/favicon.ico">

    <title>@ViewBag.Title - Admin Panel</title>
    <!-- jQuery -->
    <script src="~/js/jquery.min.js"></script>
    <!-- Font Awesome -->
    <link href="~/css/font-awesome/css/all.css" rel="stylesheet" />
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Tempusdominus Bbootstrap 4 -->
    <link href="~/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
    <!-- Select2 -->
    <link href="~/select2/css/select2.css" rel="stylesheet" />
    <link href="~/select2-bootstrap4-theme/select2-bootstrap4.css" rel="stylesheet" />
    <!-- iCheck -->
    <link href="~/css/icheck-bootstrap.min.css" rel="stylesheet" />
    <!-- daterange picker -->
    <link href="~/css/daterangepicker.css" rel="stylesheet" />
    <link href="~/css/sameLine.css" rel="stylesheet" />
    <link href="~/css/jquery.datetimepicker.css" rel="stylesheet" />
    <!-- Theme style -->
    <link href="~/css/adminlte.min.css" rel="stylesheet" />
    <!-- overlayScrollbars -->
    <link href="~/css/OverlayScrollbars.min.css" rel="stylesheet" />
    <!-- Bootstrap Color Picker -->
    <link href="~/bootstrap-colorpicker/css/bootstrap-colorpicker.css" rel="stylesheet" />
    <!-- DataTables -->
    @*<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.css" />*@
    @*<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css" />*@
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css" />
    <!-- summernote -->
    <link href="~/css/summernote-bs4.css" rel="stylesheet" />
    <!-- SweetAlert2 -->
    <link href="~/css/bootstrap-4.min.css" rel="stylesheet" />
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>
<body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>
                <li class="nav-item d-none d-sm-inline-block">
                    <a asp-area="" asp-controller="Home" asp-action="Index" class="nav-link">Home Page</a>
                </li>
            </ul>
            <partial name="_LoginPartial" />
            <partial name="_SidebarPartial" />

        </nav>
        <div class="content-wrapper" style="padding: 10px;">
            @RenderBody()
            <hr />
            <footer>
                <p>&copy; @DateTime.Now - Open Sesm Admin Yazbek</p>
            </footer>
        </div>
    </div>


    <!-- Bootstrap 4 -->
    <script src="~/js/bootstrap.bundle.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="~/js/sweetalert2.min.js"></script>
    <!-- date-range-picker -->
    <script src="~/js/moment.min.js"></script>
    <script src="~/js/daterangepicker.js"></script>
    <script src="~/js/jquery.datetimepicker.full.js"></script>
    <!-- Select2 -->
    <script src="~/select2/js/select2.js"></script>
    <!-- overlayScrollbars -->
    <script src="~/js/jquery.overlayScrollbars.min.js"></script>
    <!-- bootstrap color picker -->
    <script src="~/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script>
    <!-- DataTables -->
    @*<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.js"></script>*@
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <!-- AdminLTE App -->
    <script src="~/js/adminlte.js"></script>
    <script>
        $('.datetimepicker').datetimepicker({
            format: 'm-d-Y H:m',
            inline: false
        })

        $('select').select2();

        $('.my-colorpicker').colorpicker()

        $('#TaskTypeId').select2().on('select2:select', function (e) {
            debugger;
            var data = e.params.data;
            if (data.id == 9) {
                $('#PackageNameDiv').show();
                $("#PackageNameInput").prop('required', true);
                $('#PageIdDiv').hide();
                $("#PageIdInput").prop('required', false);
                $('#VedioIdDiv').hide();
                $("#VedioIdInput").prop('required', false);
                $('#VedioDurationDiv').hide();
                $('#VedioFileDiv').hide();
                $("#VedioDurationInput").prop('required', false);
            }
            else if (data.id == 6 || data.id == 7 || data.id == 8) {
                $('#PageIdDiv').show();
                $("#PageIdInput").prop('required', true);
                $('#PackageNameDiv').hide();
                $("#PackageNameInput").prop('required', false);
                $('#VedioIdDiv').hide();
                $("#VedioIdInput").prop('required', false);
                $('#VedioDurationDiv').hide();
                $('#VedioFileDiv').hide();
                $("#VedioDurationInput").prop('required', false);
            }
            else if (data.id == 10) {
                $('#VedioIdDiv').show();
                $("#VedioIdInput").prop('required', true);
                $('#VedioDurationDiv').hide();
                $('#VedioFileDiv').hide();
                $("#VedioDurationInput").prop('required', false);
                $('#PackageNameDiv').hide();
                $("#PackageNameInput").prop('required', false);
                $('#PageIdDiv').hide();
                $("#PageIdInput").prop('required', false);
            }
            else if (data.id == 1) {
                $('#VedioIdDiv').hide();
                $("#VedioIdInput").prop('required', false);
                $('#VedioDurationDiv').show();
                $('#VedioFileDiv').show();
                $("#VedioDurationInput").prop('required', true);
                $('#PackageNameDiv').hide();
                $("#PackageNameInput").prop('required', false);
                $('#PageIdDiv').hide();
                $("#PageIdInput").prop('required', false);
            }
            else {
                $('#PackageNameDiv').hide();
                $("#PackageNameInput").prop('required', false);
                $('#PageIdDiv').hide();
                $("#PageIdInput").prop('required', false);
                $('#VedioIdDiv').hide();
                $("#VedioIdInput").prop('required', false);
                $('#VedioDurationDiv').hide();
                $('#VedioFileDiv').hide();
                $("#VedioDurationInput").prop('required', false);
            }
        }).on('select2:open', function (e) {
            var current_id = e.target.id;
        });

        const Toast = Swal.mixin({
            toast: true,
            position: 'bottom-end',
            showConfirmButton: true,
            timer: 6000,
            showClass: {
                popup: 'animate__animated animate__fadeInDown'
            },
            hideClass: {
                popup: 'animate__animated animate__fadeOutUp'
            }
        });

        var SuccessMsg = '@HttpContextAccessor.HttpContext.Session.GetString("SuccessMsg")';
        var FailedMsg = '@HttpContextAccessor.HttpContext.Session.GetString("FailedMsg")';

        if (SuccessMsg != '') {
            Toast.fire({
                icon: 'success',
                title: SuccessMsg
            })
            SuccessMsg = '';
            '@{
                HttpContextAccessor.HttpContext.Session.SetString("SuccessMsg", "");
            }'
        }
        if (FailedMsg != '') {
            Toast.fire({
                icon: 'error',
                title: FailedMsg
            })
            FailedMsg = '';
            '@{
                HttpContextAccessor.HttpContext.Session.SetString("FailedMsg", "");
            }'
        }

    </script>
    <!-- Summernote -->
    <script src="~/js/summernote-bs4.min.js"></script>
    <script>
        $(function () {
            // Summernote
            $('.textarea').summernote()
        })
    </script>
</body>
</html>
